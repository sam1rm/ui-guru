<view link-data="ui/templates/samples/visualizer/viz.json" render-after-ext-scripts>
	<loader min-ms="5000" import="ui/templates/samples/visualizer/components/viz-loader.tpl"></loader>
	<div abs top="0" left="0" width="100" height="100">
		<hr relative z="100" m="0" width="100%" height="5px" bg="sienna" border="0"/>
	    <div relative height='calc(100% - 5px)' width='100' bg="charcoal">
			<div x-start y-end abs z="0" top="0" left="0" width="100" height="100" hide-x hide-y
				u on-init="s:[viz-play:public:6000]">
				<div absolute top="0" left="0" width='calc(150% + 180px)' height='100' z='0'
					bg-image="{{data.content.track.artwork_url}}|top left|cover|repeat"
					u init-with="p:[op:0, tr:none]"
					on-init="a:[opacity:0:1:1000:easeOutSine:0:1:f]"
					when-viz-play="a:[translateX:0%:-39%:50000:linear:0:1:f]">
					<!-- <img absolute top="0" left="0" z="0" width='100' ng-src="{{content.track.artwork_url}}"/> -->
				</div>
	            <div relative z="1"
					u init-with="p:[tr:none]"
					when-viz-play="a:[translateX:0%:-39%:50000:linear:0:1:f]">
					<div row y-end relative m-left="100px">
						<viz-bar u-list="sample in data.content.viz.samples.slice(0, 350)" sample="sample"></viz-bar>
					</div>
					<div row y-start m-left="100px">
						<viz-bar-alt u-list="sample in data.content.viz.samples.slice(0, 350)" sample="sample"></viz-bar-alt>
					</div>
				</div>
				<footer s-b y-center fixed z="100" bottom="0" left="0" width="100%"
					u on-init="s:[viz-btn:children:linear-600, viz-title:public:600]:delay-3000">
					<ul row p="13px">
						<li p="1px"
							u init-with="p:[op:0]"
							when-viz-btn="a:[slideInUp-subtle:1000:linear:0:1:f]">
							<a flex y-center rad="2px" p="2px 5px" bg="charcoal-90p" class="svg-24 svg-stroke-6"
								u on-click="s:[heart-it:children]">
								<!-- <graphic url='shared/templates/components/svg/main/heart.html'
									u when-heart-it="p:[fill:#e28797]"> </graphic> -->
								<svg viewBox="0 0 100 100">
									<path d="M30.5307935,20.4928007 C26.3063917,20.4928007 22.0809823,22.1374151 18.849194,25.3409869 C12.383602,31.8055712 12.383602,42.2385939 18.849194,48.6749618 L27.2425724,57.0663247 L49.4146352,79.2948203 C49.7270313,79.5779923 50.2661665,79.5779923 50.5493385,79.2948203 L72.7788419,57.065317 L81.1712125,48.673954 C87.6095958,42.2375862 87.6095958,31.8045635 81.1712125,25.3399792 C74.707636,18.9046191 64.301822,18.9046191 57.83623,25.3399792 L50.0102033,33.1932146 L42.1841765,25.3399792 C38.9523883,22.1374151 34.756203,20.4928007 30.5307935,20.4928007 L30.5307935,20.4928007 L30.5307935,20.4928007 Z" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" fill="none"
										u when-heart-it="p:[fill:#e28797]"></path>
								</svg>
								<span f-s="16" f-w="600" m-left="2px">{{data.content.track.likes_count}}</span>
							</a>
						</li>
						<li p="1px"
							u init-with="p:[op:0]"
							when-viz-btn="a:[slideInUp-subtle:1000:linear:0:1:f]">
							<a flex y-center rad="2px" p="2px 5px" bg="charcoal-90p" class="svg-24 svg-white svg-stroke-6">
								<replace with="shared/templates/components/svg/main/share.html"> </replace>
							</a>
						</li>
						<li p="1px"
							u init-with="p:[op:0]"
							when-viz-btn="a:[slideInUp-subtle:1000:linear:0:1:f]">
							<a flex y-center rad="2px" p="2px 5px" bg="charcoal-90p" class="svg-24 svg-white svg-stroke-6">
								<replace with='shared/templates/components/svg/main/more.html'> </replace>
							</a>
						</li>
					</ul>
					<a flex f-s="16px" f-w="600" m-right="15px"
						u init-with="p:[op:0]"
						when-viz-btn="a:[slideInUp-subtle:1000:linear:0:1:f]">Hide</a>
				</footer>
	        </div>

	        <header relative z="1" s-b>
				<ul p="10px">
					<li p="5px"
						u init-with="p:[op:0]"
						when-viz-title="a:[slideInDown-subtle:1000:linear:0:1:f]">
						<h2 bg="charcoal" z="1" f-s="18px" rad="2px" p="2px 5px" class='inline-block'>
			                {{data.content.track.publisher_metadata.artist}}
			            </h2>
					</li>
		            <li p="5px"
						u init-with="p:[op:0]"
						when-viz-title="a:[slideInDown-subtle:1000:linear:100:1:f]">
						<h1 bg="charcoal" z="1" f-s="28px" rad="2px" p="2px 5px" class='inline-block'>
			                <!-- {{content.track.title}} -->
							<a href="{{data.content.track.permalink_url}}">{{data.content.track.title}}</a>
			            </h1>
					</li>
		        </ul>
				<div p="15px"
					u init-with="p:[op:0]"
					when-viz-title="a:[slideInDown-subtle:1000:linear:200:1:f]">
					<div bg="sienna" padding="2px" rad="2px">
						<img width='100px' height="100px" rad="1px" ng-src="{{data.content.track.artwork_url}}"/>
					</div>
				</div>
			</header>
	    </div>
	</div>
</view>
